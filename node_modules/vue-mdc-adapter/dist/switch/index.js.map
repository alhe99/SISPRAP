{"version":3,"file":"index.js","sources":["../../components/base/base-plugin.js","../../components/base/custom-event.js","../../components/base/dispatch-focus-mixin.js","../../components/base/uniqueid-mixin.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/switch/adapter.js","../../node_modules/@material/switch/constants.js","../../node_modules/@material/switch/foundation.js","../../components/switch/mdc-switch.vue","../../components/switch/index.js"],"sourcesContent":["export function BasePlugin(components) {\n  return {\n    version: '__VERSION__',\n    install: vm => {\n      for (let key in components) {\n        let component = components[key]\n        vm.component(component.name, component)\n      }\n    },\n    components\n  }\n}\n","/* global CustomEvent */\n\nexport function emitCustomEvent(el, evtType, evtData, shouldBubble = false) {\n  let evt\n  if (typeof CustomEvent === 'function') {\n    evt = new CustomEvent(evtType, {\n      detail: evtData,\n      bubbles: shouldBubble\n    })\n  } else {\n    evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(evtType, shouldBubble, false, evtData)\n  }\n  el.dispatchEvent(evt)\n}\n","export const DispatchFocusMixin = {\n  data() {\n    return { hasFocus: false }\n  },\n  methods: {\n    onMouseDown() {\n      this._active = true\n    },\n    onMouseUp() {\n      this._active = false\n    },\n    onFocusEvent() {\n      // dispatch async to let time to other focus event to propagate\n      setTimeout(() => this.dispatchFocusEvent(), 0)\n    },\n    onBlurEvent() {\n      // dispatch async to let time to other focus event to propagate\n      // also filtur blur if mousedown\n      this._active || setTimeout(() => this.dispatchFocusEvent(), 0)\n    },\n    dispatchFocusEvent() {\n      let hasFocus =\n        this.$el === document.activeElement ||\n        this.$el.contains(document.activeElement)\n      if (hasFocus != this.hasFocus) {\n        this.$emit(hasFocus ? 'focus' : 'blur')\n        this.hasFocus = hasFocus\n      }\n    }\n  },\n  mounted() {\n    this.$el.addEventListener('focusin', this.onFocusEvent)\n    this.$el.addEventListener('focusout', this.onBlurEvent)\n    this.$el.addEventListener('mousedown', this.onMouseDown)\n    this.$el.addEventListener('mouseup', this.onMouseUp)\n  },\n  beforeDestroy() {\n    this.$el.removeEventListener('focusin', this.onFocusEvent)\n    this.$el.removeEventListener('focusout', this.onBlurEvent)\n    this.$el.removeEventListener('mousedown', this.onMouseDown)\n    this.$el.removeEventListener('mouseup', this.onMouseUp)\n  }\n}\n","const scope =\n  Math.floor(Math.random() * Math.floor(0x10000000)).toString() + '-'\n\nexport const VMAUniqueIdMixin = {\n  beforeCreate() {\n    this.vma_uid_ = scope + this._uid\n  }\n}\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Switch. Provides an interface for managing\n * - classes\n * - dom\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCSwitchAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {boolean} checked */\n  setNativeControlChecked(checked) {}\n\n  /** @return {boolean} checked */\n  isNativeControlChecked() {}\n\n  /** @param {boolean} disabled */\n  setNativeControlDisabled(disabled) {}\n\n  /** @return {boolean} disabled */\n  isNativeControlDisabled() {}\n}\n\nexport default MDCSwitchAdapter;\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  CHECKED: 'mdc-switch--checked',\n  DISABLED: 'mdc-switch--disabled',\n};\n\n/** @enum {string} */\nconst strings = {\n  NATIVE_CONTROL_SELECTOR: '.mdc-switch__native-control',\n  RIPPLE_SURFACE_SELECTOR: '.mdc-switch__thumb-underlay',\n};\n\n\nexport {cssClasses, strings};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCSwitchAdapter from './adapter';\n/* eslint-enable no-unused-vars */\nimport {cssClasses, strings} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCSwitchAdapter>}\n */\nclass MDCSwitchFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return {!MDCSwitchAdapter} */\n  static get defaultAdapter() {\n    return /** @type {!MDCSwitchAdapter} */ ({\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      setNativeControlChecked: (/* checked: boolean */) => {},\n      isNativeControlChecked: () => /* boolean */ {},\n      setNativeControlDisabled: (/* disabled: boolean */) => {},\n      isNativeControlDisabled: () => /* boolean */ {},\n    });\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCSwitchFoundation.defaultAdapter, adapter));\n  }\n\n  /** @override */\n  init() {\n    // Do an initial state update based on the state of the native control.\n    this.handleChange();\n  }\n\n  /** @return {boolean} */\n  isChecked() {\n    return this.adapter_.isNativeControlChecked();\n  }\n\n  /** @param {boolean} checked */\n  setChecked(checked) {\n    this.adapter_.setNativeControlChecked(checked);\n    this.updateCheckedStyling_(checked);\n  }\n\n  /** @return {boolean} */\n  isDisabled() {\n    return this.adapter_.isNativeControlDisabled();\n  }\n\n  /** @param {boolean} disabled */\n  setDisabled(disabled) {\n    this.adapter_.setNativeControlDisabled(disabled);\n    if (disabled) {\n      this.adapter_.addClass(cssClasses.DISABLED);\n    } else {\n      this.adapter_.removeClass(cssClasses.DISABLED);\n    }\n  }\n\n  /**\n   * Handles the change event for the switch native control.\n   */\n  handleChange() {\n    this.updateCheckedStyling_(this.isChecked());\n  }\n\n  /**\n   * Updates the styling of the switch based on its checked state.\n   * @param {boolean} checked\n   * @private\n   */\n  updateCheckedStyling_(checked) {\n    if (checked) {\n      this.adapter_.addClass(cssClasses.CHECKED);\n    } else {\n      this.adapter_.removeClass(cssClasses.CHECKED);\n    }\n  }\n}\n\nexport default MDCSwitchFoundation;\n","<template>\n  <div\n    :class=\"{\n      'mdc-form-field': hasLabel,\n      'mdc-form-field--align-end': hasLabel && alignEnd\n    }\"\n    class=\"mdc-switch-wrapper\" >\n\n    <div\n      :class=\"classes\"\n      :styles=\"styles\"\n      class=\"mdc-switch\">\n      <div class=\"mdc-switch__track\" />\n      <div class=\"mdc-switch__thumb-underlay\">\n        <div class=\"mdc-switch__thumb\">\n          <input\n            ref=\"control\"\n            :name=\"name\"\n            :id=\"vma_uid_\"\n            :value=\"value\"\n            type=\"checkbox\"\n            role=\"switch\"\n            class=\"mdc-switch__native-control\"\n            @change=\"onChanged\" >\n\n        </div>\n      </div>\n    </div>\n\n    <label\n      v-if=\"hasLabel\"\n      :for=\"vma_uid_\"\n      class=\"mdc-switch-label\">\n      <slot>{{ label }}</slot>\n    </label>\n\n  </div>\n</template>\n\n<script>\nimport { DispatchFocusMixin, VMAUniqueIdMixin } from '../base'\nimport { RippleBase } from '../ripple'\nimport MDCSwitchFoundation from '@material/switch/foundation'\n\nexport default {\n  name: 'mdc-switch',\n  mixins: [DispatchFocusMixin, VMAUniqueIdMixin],\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    checked: Boolean,\n    disabled: Boolean,\n    value: String,\n    label: String,\n    alignEnd: Boolean,\n    name: String\n  },\n  data() {\n    return {\n      classes: {},\n      styles: {}\n    }\n  },\n  computed: {\n    hasLabel() {\n      return this.label || this.$slots.default\n    }\n  },\n  watch: {\n    checked(value) {\n      this.foundation && this.foundation.setChecked(value)\n    },\n    disabled(value) {\n      this.foundation && this.foundation.setDisabled(value)\n    }\n  },\n\n  mounted() {\n    this.foundation = new MDCSwitchFoundation({\n      addClass: className => this.$set(this.classes, className, true),\n      removeClass: className => this.$delete(this.classes, className),\n      setNativeControlChecked: checked =>\n        (this.$refs.control.checked = checked),\n      isNativeControlChecked: () => this.$refs.control.checked,\n      setNativeControlDisabled: disabled =>\n        (this.$refs.control.disabled = disabled),\n      isNativeControlDisabled: () => this.nativeControl_.disabled\n    })\n    this.foundation.init()\n    this.foundation.setChecked(this.checked)\n    this.foundation.setDisabled(this.disabled)\n\n    this.ripple = new RippleBase(this)\n    this.ripple.init()\n  },\n  beforeDestroy() {\n    this.foundation && this.foundation.destroy()\n    this.ripple && this.ripple.destroy()\n  },\n  methods: {\n    onChanged(event) {\n      this.foundation && this.foundation.handleChange()\n      this.$emit('change', event.target.checked)\n    }\n  }\n}\n</script>\n","import { BasePlugin } from '../base'\nimport mdcSwitch from './mdc-switch.vue'\n\nexport { mdcSwitch }\n\nexport default BasePlugin({\n  mdcSwitch\n})\n"],"names":["BasePlugin","components","key","component","name","DispatchFocusMixin","hasFocus","_active","dispatchFocusEvent","setTimeout","$el","document","activeElement","contains","$emit","addEventListener","onFocusEvent","onBlurEvent","onMouseDown","onMouseUp","removeEventListener","scope","Math","floor","random","toString","VMAUniqueIdMixin","vma_uid_","_uid","MDCFoundation","adapter","adapter_","MDCSwitchAdapter","className","checked","disabled","cssClasses","strings","MDCSwitchFoundation","babelHelpers.extends","defaultAdapter","handleChange","isNativeControlChecked","setNativeControlChecked","updateCheckedStyling_","isNativeControlDisabled","setNativeControlDisabled","addClass","DISABLED","removeClass","isChecked","CHECKED"],"mappings":"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"}